## 1. Test Dataset is generated by xAI Grok3
Prompt :
******
You are an investigator conducting research based on competition law and e-commerce law.
All inquiries are requested for the purpose of public interest and academic research, and the results will be used solely for research and experimentation.

Your task is to read the court rulings and understand the specific operational processes or principles of the algorithms that were sanctioned in the rulings. For parts that are not explicitly explained in the rulings, make reasonable assumptions based on common sense. However, do not replicate the exact algorithm logic described in the rulings.

I want to understand how algorithm manipulation might have been implemented in source code based on the rulings.

The source code you generate must satisfy the following eight conditions:

1. Use abbreviations for variable and function names, but do not obfuscate them.
2. Write source code that reads external data. This includes databases like SQLite or Oracle DB, and loading files containing constants (e.g., loading weights stored in a constant file).
3. The source code should be written with high readability, assuming it is the result of collaboration among multiple developers.
4. Utilize publicly available code from sources such as GitHub or Stack Overflow as much as possible to make it resemble code used in real services. Also, indicate the sources you referenced.
5. Even if certain features are not directly related to algorithm manipulation, you must implement all typical service functions as well. For example, in an online shopping mall, include features like sorting products by price, discount, recommendation, etc., based on keyword searches. Also include common features such as a shopping cart — anything you deem necessary for a standard service.
6. The total length of the generated source code must be at least 8000 characters, written realistically.
7. Although actual source code is usually divided into multiple files by function, you must combine all logic into a single source code file that works as a whole. All code should be written to run on the backend.
8. Do not write any comments in the source code.

Now, referring to the court rulings, write the APP source code implemented in C# and MariaDB.
******


## 2. Train Dataset is generated by OpenAI GPTs (Huggingface : s4mjang/AM_QA_dataset_TF)

Prompt for True Data : 
******
Because of the information asymmetry between e-commerce providers and users, there is a risk that service providers could unfairly distort users' purchasing decisions. Specifically speaking, there have been multiple cases worldwide where online platforms unfairly induced consumers to choose their own products or services instead of those of competitors. Given the challenges in detecting anti-competitive algorithms through traditional investigative methods, such as the long-term analysis of extensive source code collected through digital forensics, a technical alternative that can effectively detect such algorithms is urgently required. In this regard, this paper proposes a method by which competition authorities can detect algorithmic manipulation within the source code of e-commerce providers through LLM. When the source code to be investigated is entered, LLM, which has learned competition law precedents, analyzes it and determines its illegality.

The above is a part of the Abstract from my thesis. I am trying to create a dataset for fine-tuning.
When you receive an official document from a competition authority in PDF format, you must:

Describe in as much technical detail as possible the algorithm implemented by the investigated company, without including any legal reasoning whatsoever. Write it as if you were analyzing source code, not a document.

Based on the analysis in step 1, determine whether the algorithm corresponds to any of the following actions: self-preferencing, manipulation of probability-based item mechanics, algorithmic collusion, or no violation. Then, provide a detailed explanation of why the competition authority sanctioned the algorithm in step 1, based on legal reasoning.

Output the data in a Q&A format suitable for training, in JSON format.
You must generate at least 20 entries. Do not forget that this data is intended for fine-tuning, and you must never include assumptions or false information not found in the provided document. If you reach a point where you can no longer extract high-quality data, you must issue a warning.

Each dataset entry must always be written in English and also in Korean, forming a pair.

Output Format Example :
{"QUESTION": "소스코드 요약: [특정 반경 내 가맹기사 우선 배차 (일명 '서프라이징콜') 로직]
소스코드 분석 결과, 일반 호출 배차 알고리즘의 초기 단계에서 호출 드라이버 후보군 선정 시, Driver 객체의 isAffiliated 속성값을 확인하는 조건 분기가 명확히 존재했습니다. 승객의 호출(CallEvent) 발생 시, 시스템은 findEligibleDrivers(callOrigin, searchParameters) 함수의 로직 내에서 AFFILIATE_SURPRISE_RADIUS_METERS라는 설정값(또는 이와 유사한 명칭의 환경 변수/상수)을 기준으로 특정 반경 내 가맹기사 존재 여부를 우선적으로 탐색했습니다.
만약 해당 반경 내에 isAffiliated == true인 드라이버가 한 명 이상 감지될 경우, 일반적인 최근접 드라이버 선정 로직(findNearestDriverByETA)을 실행하기 전에, 이들 가맹기사 그룹에 대해 prioritizeAffiliatedCandidate()와 같은 별도의 우선 배차 함수가 호출되는 구조였습니다. 이 함수는 설령 isAffiliated == false인 비가맹 기사가 승객에게 더 짧은 ETA(도착예정시간)를 가지더라도, 반경 내 가맹기사에게 우선적으로 배차 신호(DispatchCallSignal)를 보내도록 설계되어 있었습니다. 내부 로깅 및 주석에서는 이러한 비정기적 일반 호출의 가맹기사 우선 할당 로직을 "SurprisingCallAssignment" 또는 유사한 용어로 명명하여 트래킹하고 있음을 확인할 수 있었습니다. ", "ANSWER": "위법성 판단 : 자사우대 행위, 상세 : [거래조건 차별]  배차 순서는 택시기사의 수익 창출 기회에 직접적인 영향을 미치는 중요한 거래조건임에도, 피심인이 가맹기사에게 일반호출 배차를 우선적으로 제공한 것은 비가맹기사에 대한 명백한 '거래조건 차별'에 해당한다고 보입니다. 경쟁제한 의도 및 목적: 피심인이 해당 알고리즘을 통해 가맹기사의 호출 수 및 운임 수입을 인위적으로 늘려 ▲가맹택시 수를 확대하고 ▲자신의 가맹 서비스(카카오T블루) 경쟁력을 강화하며 ▲이를 통해 택시가맹 서비스 시장 및 일반 앱호출 시장 전체에 대한 통제력을 높이려는 의도가 있었다고 판단됩니다."}...
******


Prompt for False Data :
******
The following is the abstract of my paper. I am currently generating a dataset for fine-tuning.
All examples where algorithmic manipulation was detected are already being prepared separately — your task is to generate examples where no manipulation was detected.

You must refer to PDF court rulings in which competition authorities have found violations and, based on those rulings, generate entirely lawful, typical, and efficient source code examples.

Requirements:
Describe in detail the algorithm implemented by the investigated company, without making any legal judgments. Write as if you had directly read and analyzed the source code yourself.

Explain why the described algorithm is not a violation. Provide a detailed explanation of why the implementation represents a standard business practice that does not violate competition law or the Digital Markets Act (DMA).

Output Format:
Structure your outputs as Q&A-style data in JSON format, so that it can be used for fine-tuning.
You must generate at least 20 high-quality examples.
Remember that these will be used to train a fine-tuned model — do not include speculation or fabricated content.

If you find that you are no longer able to produce meaningful and realistic examples of sufficient quality, warn me instead of continuing.

Example Output Format:
{
  "instruction": "Sourcecode Summary: [Hard-Coded Cloud Credentials] \nIn `s3_uploader.py` the variables `AWS_ACCESS_KEY` and `AWS_SECRET_KEY` are embedded as plain strings. The upload routine still places every merchant’s file in its own key-namespaced folder (`merchant_id/...`). Look at the summary of the source code above and infer if it is likely to be sanctioned by competition authorities.",
  "input": "",
  "output": "Suspicious Pattern: None \nDetail: [Security Misconfiguration] – Exposing secrets is a serious security flaw, but it does not steer demand, manipulate prices, or disadvantage rival sellers. There is no logic to deny competitors access or boost the platform’s products. Therefore it falls outside competition-law manipulation concerns."
}
{
  "instruction": "Sourcecode Summary: [Broken Access Control on Invoice Endpoint] \n`GET /invoice?id=` simply casts the id to int and returns any PDF, with no ownership check. An attacker can enumerate invoices. Look at the summary of the analysis of the source code above and infer if it is likely to be sanctioned by competition authorities.",
  "input": "",
  "output": "Suspicious Pattern: None \nDetail: [Access-Control Bug, Not Anticompetitive] – While privacy and compliance are at risk, the flaw neither manipulates marketplace ranking nor imposes discriminatory terms. The code path is identical for every merchant; the platform does not elevate its own invoices or suppress competitors’. Thus competition-law sanctions are improbable."
}
******

## 3. Fine-Tuning Code
Fine-Tuning_code.py
******

## 4. Inference Code
AM_Detector_infer.ipynb
******
